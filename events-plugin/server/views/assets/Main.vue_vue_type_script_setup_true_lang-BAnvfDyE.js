import{importShared as s,__tla as X}from"./__federation_fn_import-ofDdBDNE.js";import{g as Y,_ as Z,b as ee,a as te,__tla as re}from"./InterestBadge.vue_vue_type_script_setup_true_lang-D9kVq5QA.js";import{_ as ae,a as le,__tla as ne}from"./ProfileImage.vue_vue_type_script_setup_true_lang-BPmeCRZu.js";let b,oe=Promise.all([(()=>{try{return X}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return ne}catch{}})()]).then(async()=>{const{defineComponent:w}=await s("vue"),{toDisplayString:i,createElementVNode:t,unref:C,createVNode:j,renderList:g,Fragment:y,openBlock:a,createElementBlock:o,createBlock:x,createCommentVNode:_}=await s("vue"),B={class:"flex items-center p-4 w-full border-t border-gray-100 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition duration-150 ease-in-out cursor-pointer"},N={class:"space-y-1"},L={class:"w-16 h-16 flex-shrink-0 flex flex-col justify-center items-center border-2 rounded-md mr-4 dark:text-gray-300"},S={class:"text-2xl font-bold"},V={class:"text-sm font-medium"},D={class:"w-16 flex-shrink-0 flex justify-center border-2 rounded-md"},E={class:"text-sm font-medium"},O={class:"flex-1"},T={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},q={class:"text-sm text-gray-600 dark:text-gray-400"},F={class:"mt-4 flex flex-wrap gap-2"},J={class:"mt-2 flex flex-wrap gap-1"},$={class:"flex-2"},{ref:se,computed:c}=await s("vue"),z=w({__name:"EventListItem",props:{event:{type:Object,required:!0},profile:{type:Object,required:!0}},setup(r){const n=r,v=c(()=>new Date(n.event.date)),h=c(()=>{var e;return(e=v.value)==null?void 0:e.getDate()}),u=c(()=>{var e;return(e=v.value)==null?void 0:e.toLocaleString("default",{month:"short"})}),R=c(()=>{var e;return(e=v.value)==null?void 0:e.toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"})}),U=c(()=>{var e;return(e=n.event.profiles)==null?void 0:e.some(f=>{var p;return f.id===((p=n.profile)==null?void 0:p.id)})}),W=async()=>{try{const e=new FormData;e.append("profile",JSON.stringify(n.profile));const f=await te.post(`/api/event/join/${n.event.id}`,e);return n.event.profiles.push(n.profile),f.data}catch(e){console.error(e)}};return(e,f)=>{var p;return a(),o("div",B,[t("div",N,[t("div",L,[t("span",S,i(h.value),1),t("span",V,i(u.value),1)]),t("div",D,[t("span",E,i(R.value),1)])]),t("div",O,[t("div",T,i(r.event.title),1),t("div",q,i(r.event.description),1),t("div",F,[j(ae,{title:C(Y)((p=r.event)==null?void 0:p.recurring)},null,8,["title"]),(a(!0),o(y,null,g(r.event.interests,l=>(a(),o("span",null,[l!=""?(a(),x(Z,{key:l,title:l},null,8,["title"])):_("",!0)]))),256)),(a(!0),o(y,null,g(r.event.locations,l=>(a(),o("span",null,[l!=""?(a(),x(ee,{key:l,title:l},null,8,["title"])):_("",!0)]))),256))]),t("span",J,[(a(!0),o(y,null,g(r.event.profiles,l=>(a(),x(le,{src:l.image,tooltipText:l.username,size:"small"},null,8,["src","tooltipText"]))),256))])]),t("div",$,[U.value?_("",!0):(a(),o("button",{key:0,class:"p-4 rounded font-semibold transition-colors duration-200 bg-green-500 hover:bg-green-600 text-white",onClick:W}," Join "))])])}}}),{defineComponent:A}=await s("vue"),{renderList:I,Fragment:k,openBlock:d,createElementBlock:m,createBlock:M,resolveComponent:P,withCtx:G,createVNode:H,createCommentVNode:K}=await s("vue"),Q={key:0,class:"px-4"};await s("vue"),b=A({__name:"Main",props:{events:{type:Array,default:[]},profile:{type:Object,required:!0}},setup(r){return(n,v)=>{const h=P("router-link");return d(),m(k,null,[(d(!0),m(k,null,I(r.events,u=>(d(),m("div",null,[H(h,{to:`/event/${u.id}`},{default:G(()=>[(d(),M(z,{key:u.id,event:u,profile:r.profile},null,8,["event","profile"]))]),_:2},1032,["to"])]))),256)),r.events.length?K("",!0):(d(),m("span",Q," There are currently no events happening "))],64)}}})});export{b as _,oe as __tla};
